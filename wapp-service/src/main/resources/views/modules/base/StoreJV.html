
<!DOCTYPE html>
<html lang="ZH">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../libs/customer/index.css">
    <script src="../../libs/ajaxupload.js"></script>
    <style type="text/css">
        [v-cloak] {
            display: none;
        }
    </style>
    <script type="text/javascript" charset="utf-8" src="../../js/customer/resource.js"></script>
    <script type="text/javascript" src="../../js/customer/release/wangEditor.min.js"></script>
</head>
<style type="text/css">
    .btn-row2 {
    }
    td{
        position: relative;
    }

    span[name*="invoiceLog"] table tr td{
        display: inline;
    }
    .el-dialog__header{
        background: #333333;
        color: white;
    }

    .el-dialog__header span,.el-dialog__header i{
        color: white !important;
    }
    .el-dialog__wrapper>.el-dialog{
        overflow-x: hidden;
    }
    #requireMsg1 .el-form-item__label:before{
        content: '*';
        color: #f56c6c;
        margin-right: 0.04rem;
    }
    #shell{
        width: 721px;
        height: 756px;
        position: absolute;
        top: 0px;
        left: -36px;
    }.big{font-weight: 700;}

    #shell>div:nth-child(1){
        width: 100%;
        height: 136px;
        border-radius: 40px 40px 0px 0px;
        background-color:#017cc2;
    }#shell>div:nth-child(1)>img{
         height: 44px;
         position: absolute;
         top: 24px;
         left: 531px;
     }#shell>div:nth-child(1)>div{
          color: #eee;
          position: absolute;
          top: 66px;
          left: 442px;
          font-size: 20px;
          letter-spacing: -1px;
      }

    #shell>div:nth-child(2){
        width: 100%;
        height: 533px;
        padding: 8px 30px;
        font-size: 16px;
        background-color: #fff;
        line-height: 25px;
    }#shell>div:nth-child(2)>div{
         border: 1px solid #000000;
         width: 645px;
         overflow: hidden;
         margin-bottom: 20px;
         margin-left: 5px;
     }#shell>div:nth-child(2)>div>div{
          float: left;
          width: 50%;
          border: 1px solid #000000;
      }#shell>div:nth-child(2)>div>div:nth-child(1),#shell>div:nth-child(2)>div>div:nth-child(2){
           background-color: #aaa;
           text-align: center;
           height: 30px;
           line-height: 30px;
       }#shell>div:nth-child(2)>div>div:nth-child(3),#shell>div:nth-child(2)>div>div:nth-child(4){
            height: 160px;
        }

    #shell>div:nth-child(3){
        width: 100%;
        height: 88px;
        border-radius: 0px 0px 40px 40px ;
        background-color:#017cc2;
        position: relative;
    }#shell>div:nth-child(3)>div{
         color: #EEEEEE;
         position: absolute;
         top: 45px;
         left: 450px;
     }
    #announceWin{
        overflow-x: visible;
    }
    #announceWin>.el-dialog{
        overflow-x: visible;
    }
    #shell table th {
        text-align: center !important;
    }
</style>
<body>
<iframe id="ifile" style="display:none"></iframe>
<div id="rrapp" v-cloak>
    <div>
        <el-form ref="queryForm" :model="queryForm"   label-width="1.0rem" >
            <el-row>
                <el-col :span="5">
                    <el-form-item label="JV:">
                        <el-select v-model="queryForm.jvcode" filterable allow-create default-first-option>
                            <el-option
                                    v-for="item in jvs"
                                    :key="item.value"
                                    :label="item.label"
                                    :value="item.value">
                            </el-option>
                        </el-select>
                    </el-form-item>
                </el-col>
                <el-col :span="15">
                    <el-form-item label="税务承担店号" label-width="1.4rem" class="form-item" prop="storeTax"
                                  :rules="[{type: 'number', message: '必须为数字值'}]">
                        <el-input maxlength="10" v-model.number="queryForm.storeTax"  placeholder="请输入税务承担店号"></el-input>
                    </el-form-item>
                </el-col>
                <el-col :span="4" :offset="1">
                    <el-button class="btnexport" @click="query">查询</el-button>
                </el-col>
                <el-col :span="4" :offset="1">
                    <a class="btn btnexport" @click="addOrUpdata(true)">新增</a>
                </el-col>
                <el-col :span="4" :offset="1">
                    <a class="btn btnexport " @click="deleteOrg">删除</a>
                </el-col>
            </el-row>
        </el-form>
        <el-row>
            <el-col :span="1" :offset="1">
                <el-button class="btnexport" id="import">导入数据</el-button >
            </el-col>
            <el-col :span="1" :offset="1">
                <el-button class="btnexport" @click="jvStoreTemplate">数据模板下载</el-button>
            </el-col>
        </el-row>
    </div>
    <hr>
    <el-table height="4rem" ref="jvStoreTable" :data="jvStoreData" border fit @selection-change="changeFun"
              tooltip-effect="light" highlight-current-row
              v-loading="jvcodeLoading" element-loading-text="正在拼命加载中"
              style="width: 100%;">

        <el-table-column :show-overflow-tooltip="true"  type="selection" width="50" align="center"></el-table-column>
        <!--<el-table-column :show-overflow-tooltip="true"  type="index" :index="scanpathIndex" label="序号" width="60"-->
        <!--align="center"></el-table-column>-->
        <el-table-column :show-overflow-tooltip="true"  property="jvcode" label="JV" min-width="60" align="center"
                         header-align="center"></el-table-column>
        <el-table-column :show-overflow-tooltip="true"  property="storeCode" label="门店代码" min-width="80"
                         header-align="center"></el-table-column>
        <el-table-column :show-overflow-tooltip="true"  :formatter="formatterField" property="storeChinese" label="门店名称" min-width="200"
                         header-align="center"></el-table-column>
        <el-table-column :show-overflow-tooltip="true"  property="storeTax" label="税务承担店号" min-width="180"
                         header-align="center"></el-table-column>
        <el-table-column :show-overflow-tooltip="true"  property="jvcodeName" label="税务承担店名称" min-width="180"
                         header-align="center"></el-table-column>
        <el-table-column :show-overflow-tooltip="true"  property="taxpayerCode" label="税务承担店税号" min-width="180"
                         header-align="center"></el-table-column>
        <el-table-column :show-overflow-tooltip="true"  property="taxpayerCode" label="操作" class-name="noSpotSpotSpot"  align="center" class-name="noSpotSpotSpot" >
            <template slot-scope="scope">
                <el-button @click="openAddOrUpdateWin(scope.row)" type="text" size="small">修改
                </el-button>
            </template>
        </el-table-column>
    </el-table>

    <el-col class="toolbar" style="padding:0.1rem;">
        <el-pagination small layout="slot, sizes, prev, pager, next" background
                       :current-page.sync="currentPage" :page-size="pageSize" :page-sizes="pageList"
                       :total="total" @current-change="currentChange" @size-change="sizeChange" style="float:right">
            <span>共{{total}}条记录，第{{currentPage}}页，共{{totalPage}}页</span>
        </el-pagination>
    </el-col>
    <el-dialog :title="addOrUpdateForm.title" :visible.sync="addOrUpdateWin" :before-close="addOrUpdataWinClose" :close-on-click-modal="false" @close="clearValidate('addOrUpdateForm')">
        <el-form ref="addOrUpdateForm" :model="addOrUpdateForm" label-width="1.45rem">
            <el-row>
                <el-col >
                    <el-form-item label="JV:" label-width="1.3rem" prop="jvcode"
                                  :rules="[{ required: true, message: '不能为空'}]">
                        <el-input maxlength="40"  v-model.trim="addOrUpdateForm.jvcode" class="input-class" style="width: 2.02rem;!important;" />
                    </el-form-item>
                </el-col>
            </el-row>
            <el-row>
                <el-col >
                    <el-form-item label="商场代码:" label-width="1.3rem" prop="storeCode"
                                  :rules="[{ required: true, message: '不能为空'}]">
                        <el-input maxlength="40"  v-model.trim="addOrUpdateForm.storeCode" class="input-class" style="width: 2.02rem;!important;"/>
                    </el-form-item>
                </el-col>
            </el-row>
            <el-row>
                <el-col >
                    <el-form-item label="商场中文名:" label-width="1.3rem" prop="storeChinese"
                                  :rules="[{ required: true, message: '不能为空'}]">
                        <el-input maxlength="40"  v-model.trim="addOrUpdateForm.storeChinese" class="input-class" style="width: 2.02rem;!important;"/>
                    </el-form-item>
                </el-col>
            </el-row>
            <el-row>
                <el-col >
                    <el-form-item label="商场税务:" label-width="1.3rem" prop="storeTax"
                                  :rules="[{ required: true, message: '不能为空'}]">
                        <el-input maxlength="40"  v-model.trim="addOrUpdateForm.storeTax" class="input-class" style="width: 2.02rem;!important;"/>
                    </el-form-item>
                </el-col>
            </el-row>
            <el-row :span="15">
                <el-col >
                    <el-form-item label="JV对应门店名:" label-width="1.3rem" prop="jvcodeName"
                                  :rules="[{ required: true, message: '不能为空'}]">
                        <el-input maxlength="40"  v-model.trim="addOrUpdateForm.jvcodeName" class="input-class" style="width: 2.02rem;!important;"/>
                    </el-form-item>
                </el-col>
            </el-row>
            <el-row :span="15">
                <el-col >
                    <el-form-item label="纳税人识别号:" label-width="1.3rem" prop="taxpayerCode"
                                  :rules="[{ required: true, message: '不能为空'}]">
                        <el-input maxlength="40"  v-model.trim="addOrUpdateForm.taxpayerCode" class="input-class" style="width: 2.02rem;!important;"/>
                    </el-form-item>
                </el-col>
            </el-row>

        </el-form>

        <span slot="footer" class="dialog-footer">
            <el-button class="btnexport" @click="submitForm">保 存</el-button>
            <!--<el-button class="btnexport" @click="addOrUpdateReset()">重 置</el-button>-->
        </span>
    </el-dialog>
</div>
</body>
<script src="../../js/modules/base/jvStore.js"></script>
</html>