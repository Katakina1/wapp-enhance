
<!DOCTYPE html>
<html lang="ZH">
<head>
    <title>问题单数据</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../libs/customer/index.css">
    <style type="text/css">
        [v-cloak] {
            display: none;
        }
    </style>
    <script type="text/javascript" charset="utf-8" src="../../js/customer/resource.js"></script>
</head>
<style type="text/css">
    .btn-row2 {
    }
    td{
        position: relative;
    }

    span[name*="invoiceLog"] table tr td{
        display: inline;
    }
</style>
<body>
<iframe id="ifile" style="display:none"></iframe>
<div id="rrapp" v-cloak>
    <div>
        <el-form ref="form" :model="form" :rules="rules" label-width="1.0rem">
            <el-row>


                <el-col :span="12">
                    <el-form-item label="发票号码:" prop="invNo" >
                        <el-input class="inline-input" v-model="form.invNo"
                                  placeholder="请输入发票号码"></el-input>
                    </el-form-item>
                </el-col>

                <el-col :span="12">
                    <el-form-item label="处理状态:">
                        <el-select v-model="form.isDel">
                            <el-option label="需重匹" value="3"></el-option>
                            <el-option label="已重匹" value="4"></el-option>
                        </el-select>
                    </el-form-item>

                </el-col>
                <el-col :span="1" :offset="1" class="btn-row2 ">
                    <el-button class="btnexport" @click="query('form')">查询</el-button>
                </el-col>
<!--                <el-col :span="1" :offset="1" class="btn-row4">-->
<!--                    <el-button id="export_btn" disabled class="btnexport" @click="exportExcel">导出</el-button>-->
<!--                </el-col>-->
<!--                <el-col :span="1" :offset="1" class="btn-row2">-->
<!--                    <el-button class="btnexport" @click="batchExport()">批量导入问题单</el-button>-->
<!--                </el-col>-->
            </el-row>
        </el-form>
    </div>
    <hr>
    <div>
        <div align="left" style="float:left;font-size: 0.18rem; margin-top:0.09rem"></div>
    </div>
    <!--//DateT	InputUser	JV	VendorNo	InvNo	Invoice Cost	WM Cost	BatchID	PONo	Trans	Rece	ErrCode	ErrDesc	ErrStatus-->

    <el-table height="4rem" border fit :data="tableData" highlight-current-row style="width: 100%;font-size: 0.12rem;"
              v-loading="listLoading" @selection-change="changeFun"  @select="changeFun2" ref="multipleTable"
              element-loading-text="正在拼命加载中">
        <el-table-column :show-overflow-tooltip="true"  type="index"  :index="mainIndex" label="序号" align="center"></el-table-column>
        <el-table-column :show-overflow-tooltip="true"    label="处理状态" align="center" >
            <template scope="scope">
                <span v-if="scope.row.isDel=== '1'">已退票</span>
                <span v-else-if="scope.row.isDel=== '2'" >已处理</span>
                <span v-else-if="scope.row.isDel=== '0'" >未处理</span>
                <span v-else-if="scope.row.isDel=== '3'" >需重匹</span>
                <span v-else-if="scope.row.isDel=== '4'" >已重匹</span>
                <span v-if="scope.row.isDel=== '' || scope.row.isDel=== null">未处理</span>

            </template>
        </el-table-column>
        <el-table-column :show-overflow-tooltip="true"  prop="delDate" label="处理时间" align="center" :formatter="dateFormat" width="140" ></el-table-column>

        <el-table-column :show-overflow-tooltip="true"  prop="vendorNo" label="供应商号" align="center"  header-align="center" width="140" >
        </el-table-column>
        <el-table-column :show-overflow-tooltip="true"  prop="invNo" label="发票号码" align="center"  header-align="center"  width="140">
        </el-table-column>
        <el-table-column :show-overflow-tooltip="true"  prop="invoiceCost" label="价税合计" align="center"  width="140" :formatter="numberFormat">
        </el-table-column>
        <el-table-column :show-overflow-tooltip="true"  prop="wMCost" label="发票金额" align="center" header-align="center" width="140" :formatter="numberFormat"></el-table-column>
        <el-table-column :show-overflow-tooltip="true"  prop="taxAmount" label="税额" align="center"  width="140" :formatter="numberFormat"></el-table-column>
        <el-table-column :show-overflow-tooltip="true"  prop="taxRate" label="税率" align="center"  width="140" :formatter="numberFormat"></el-table-column>
        <el-table-column :show-overflow-tooltip="true"  prop="taxType" label="发票类型" align="center"  width="140"></el-table-column>


<!--        <el-table-column :show-overflow-tooltip="true"  prop="batchID" label="BatchID" align="center" header-align="center" width="190"></el-table-column>-->
<!--        <el-table-column :show-overflow-tooltip="true"  prop="pONo" label="PONo" align="center" header-align="center" width="140"></el-table-column>-->
<!--        <el-table-column :show-overflow-tooltip="true"  prop="trans" label="Trans" align="center" header-align="center"width="100" ></el-table-column>-->
<!--        <el-table-column :show-overflow-tooltip="true"  prop="rece" label="Rece" align="center" header-align="center" width="100"></el-table-column>-->
<!--        <el-table-column :show-overflow-tooltip="true"  prop="errCode" label="ErrCode" align="center" header-align="center" width="100"><template scope="scope">-->
<!--            <span v-if="scope.row.isDel != '2'" >{{ scope.row.errCode }}</span>-->
<!--            <span v-if="scope.row.isDel=== '2'" ></span>-->
<!--        </template></el-table-column>-->
        <el-table-column :show-overflow-tooltip="true"  prop="errDesc" label="类型" align="center" header-align="center" width="200"><template scope="scope">
            <span>{{ scope.row.errDesc }}</span>
        </template></el-table-column>
        <el-table-column :show-overflow-tooltip="true"  prop="errStatus" label="原因" align="center" header-align="center" width="200"><template scope="scope">
            <span>{{ scope.row.errStatus }}</span>
        </template></el-table-column>
<!--        <el-table-column :show-overflow-tooltip="true"  prop="errStatus" label="ErrStatus" align="center" header-align="center" width="300"><template scope="scope">-->
<!--            <span v-if="scope.row.isDel=== '2'" ></span>-->
<!--            <span v-if="scope.row.isDel != '2'" >{{ scope.row.errStatus }}</span>-->
<!--        </template></el-table-column>-->
<!--        <el-table-column :show-overflow-tooltip="true"  prop="isDel" width="240" label="操作" class-name="noSpotSpotSpot" align="center" >-->
<!--            <template scope="scope">-->
<!--                <span v-if="scope.row.isDel=== null" >—— ——</span>-->
<!--                <span v-else-if="scope.row.isDel=== ''" >—— ——</span>-->

<!--                <span v-else-if="scope.row.isDel=== '1'" >-->
<!--                         <a  @click="resultDetail(scope.row)"><span class="column-span" style="color: black">撤销退票</span></a>-->
<!--                    </span>-->
<!--                <span v-else-if="scope.row.isDel=== '2'" >-->
<!--                        <a  @click="resultDetails(scope.row)"><span class="column-span" style="color: black">撤销处理</span></a>-->
<!--                    </span>-->
<!--                <span v-else-if="scope.row.isDel=== '3'" >-->
<!--                        <a  @click="resultDetailss(scope.row)"><span class="column-span" style="color: black">撤销需重匹</span></a>-->
<!--                    </span>-->
<!--                <span v-else-if="scope.row.isDel=== '0'" >—— ——</span>-->
<!--            </template>-->


<!--            &lt;!&ndash; <span v-if="scope.row.scanMactchStatus=='0'|| scope.row.scanMactchStatus=='2'" >-->
<!--                 <a  @click="cancelMatchButton(scope.row)"><span class="column-span" style="color: black">取消匹配</span></a>-->
<!--             </span>-->
<!--             <a  @click="scanWinShow(scope.row)"><span class="column-span" style="color: black">相关资料图片</span></a>&ndash;&gt;-->

<!--        </el-table-column>-->


    </el-table>
    <el-col class="toolbar" style="padding:0.1rem;">
        <el-pagination background @current-change="currentChange" @size-change="handleSizeChange"
                       :current-page="currentPage" :page-size="pageSize" :page-sizes="pageList" :pager-count="pagerCount"
                       layout="slot, sizes, prev, pager, next" :total="total" style="float:right">
            <span>共{{total}}条记录，第{{currentPage}}页，共{{totalPage}}页</span>
        </el-pagination>
    </el-col>

    <!--<el-dialog width="7rem" :visible.sync="batchRedTicketDialog" :before-close="importFormCancel" :close-on-click-modal="false" id="" v-loading="listLoading4" element-loading-text="正在拼命加载中" style="margin-top: 5vh;">-->
    <!--<form id="upload_form" target="frm" method="post" enctype="multipart/form-data">-->
    <!--<div class="row" style="border-top: 0">-->
    <!--<el-col :span="1" :offset="1">-->
    <!--<el-button class="btnexport" @click="uploadFile($event)">导入文件</el-button>-->
    <!--</el-col>-->
    <!--<el-col :span="1" :offset="1">-->
    <!--<el-button class="btnexport" @click="exportData()">模板下载</el-button>-->
    <!--</el-col>-->
    <!--<div class="col-xs-7">-->
    <!--<div class="form-group" style="margin-top:0.1rem;">-->
    <!--<label class="col-xs-5 control-label">选择上传文件:</label>-->
    <!--<div class="col-xs-5" id="upload">-->
    <!--&lt;!&ndash;<span v-html="selectFileFlag"></span>&ndash;&gt;-->
    <!--<input type="file" @change="onChangeFile($event)" id="file" name="file" class="text-input"-->
    <!--hidden>-->
    <!--</div>-->
    <!--</div>-->
    <!--</div>-->
    <!--</div>-->
    <!--<iframe id="frm" name="frm" style="display: none;"></iframe>-->
    <!--</form>-->


    <!--</el-dialog>-->

    <el-dialog width="90%" :visible.sync="batchRedTicketDialog" :before-close="importFormCancel" :close-on-click-modal="false" id="" v-loading="listLoading4" element-loading-text="正在拼命加载中" style="margin-top: 0vh;">
        <form id="upload_form" target="frm" method="post" enctype="multipart/form-data">
            <div class="row" style="border-top: 0">
                <div class="col-xs-4">
                    <div class="form-group">
                        <label class="col-xs-5 control-label">选择上传文件:</label>
                        <div class="col-xs-5" id="upload">
                            <input type="file" @change="onChangeFile($event)" id="file" name="file" class="text-input"
                                   hidden>
                        </div>
                    </div>
                </div>
                <el-col :span="1" :offset="1">
                    <el-button class="btnexport" @click="uploadFile($event)">导入文件</el-button>
                </el-col>
                <el-col :span="1" :offset="1">
                    <el-button class="btnexport" @click="exportData()">模板下载</el-button>
                </el-col>

            </div>
            <iframe id="frm" name="frm" style="display: none;"></iframe>
        </form>


    </el-dialog>











</div>
</body>
<!--modules/InformationInquiry/questionnaire.html-->
<script src="../../js/modules/InformationInquiry/cpQuestionnaire.js"></script>
</html>