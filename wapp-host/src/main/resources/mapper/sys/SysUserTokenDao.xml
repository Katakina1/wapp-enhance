<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.xforceplus.wapp.modules.sys.dao.SysUserTokenDao">

	<select id="queryByUserId" resultType="com.xforceplus.wapp.modules.sys.entity.SysUserTokenEntity">
		/**mycat:schema=${schemaLabel}*/ select * from t_ac_user_token_customer where user_id = #{userId}
	</select>

	<select id="queryByToken" resultType="com.xforceplus.wapp.modules.sys.entity.SysUserTokenEntity">
		/**mycat:schema=${schemaLabel}*/ select * from t_ac_user_token_customer where token = #{token}
	</select>

	<insert id="saveToken" parameterType="com.xforceplus.wapp.modules.sys.entity.SysUserTokenEntity">
		/**mycat:schema=${schemaLabel}*/ insert into t_ac_user_token_customer
		(
		`user_id`,
		`token`,
		`expire_time`,
		`update_time`
		)
		values
		(
		#{token.userId},
		#{token.token},
		#{token.expireTime},
		#{token.updateTime}
		)
	</insert>

	<update id="updateToken" parameterType="com.xforceplus.wapp.modules.sys.entity.SysUserTokenEntity">
		/**mycat:schema=${schemaLabel}*/ update t_ac_user_token_customer
		<set>
			<if test="token.token != null">`token` = #{token.token},</if>
			<if test="token.expireTime != null">`expire_time` = #{token.expireTime},</if>
			<if test="token.updateTime != null">`update_time` = #{token.updateTime}</if>
		</set>
		where user_id = #{token.userId}
	</update>

</mapper>